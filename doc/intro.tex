% -*-LaTeX-*-

\section{Introduction}

%
%  More storage devices
%    More failures
%    More places your data could be--harder to manage
%  One solution:  The cloud
%    Put all your data at Google or Amazon
%    Alleviates the failure and management problems
%  Limitations of the cloud model
%    Requires you to be on-line (even phones don't always have net access)
%    Potentially uses lots of network bandwidth to the outside world
%    Creates massive single points of failure
%    Creates need to support storage provider business model
%         (e.g., why pay Amazon S3 charges if you don't have to?)
%  But don't really need storage provider's hardware, just management
%    People usually have enough raw storage on devices for their data
%          Storage growing faster than net connectivity (cite Rodrigues)
%    People lose servers, desktop machines, and cell phones,
%          but usually not all at once
%  Suggests an alternative:  Personal clouds
%    Serverless cloud model based on your own devices
%    Example of taking data to work on cell phone
%  Requires a new data model
%    Don't want to copy files manually all the time--too inconvenient
%    Don't want a network file system
%          Synchronous network file system too dependent on network
%          Coda/Ficus still require server which requires maintenance
%    We advocate new type of FS:  Update locally, propagate asynchronously
%  Roadmap
%

Users have an increasing number of devices with sizable data storage.
PDAs, digital audio players, cell phones, and cameras will all soon
provide storage capacities comparable to today's laptops.  The ability
to carry around more storage opens up new opportunities but also
creates several complications.  First, more devices mean more
failures.  People are more likely to lose or damage a cell phone or
PDA than a desktop machine; yet when cell phones have 60~GB of
storage, they will more likely contain data the owner cannot afford to
use.  Second, more devices mean there are more places any given file
may live, so that whatever file a user wants is less likely to be on
the device he or she is currently using.  This will naturally lead to
users synchronizing data back and forth across devices which will
creates management hassles if just done manually.

One solution to both these problems that people appear to be moving
towards is storing all data ``in the cloud''---i.e., keeping the
primary copy of data at external service providers such as Amazon or
Google rather than in any of a user's own devices.  This trend is
particularly evident with web mail, which many people find preferable
to using their own mail servers as it allows them to check mail from
multiple devices and not worry about their own servers failing.
Similarly, some people use web applications such as Google Docs,
particularly when sharing data with multiple people on different
machines.

Unfortunately, the cloud model has a number of limitations.  In many
cases, users need Internet connectivity to access their data.  Yet
devices (even cell phones) do not always have network connectivity.
Moreover, the cloud model unnecessarily consumes precious bandwidth to
the outside world even in cases when two devices on the same network
share files.  Worse yet, widespread dependence on a small number of
storage providers presents a dangerously large central point of
failure.  As Pakistan recently demonstrated by causing a world-wide
blackout of youtube, many parties have the ability to take down
Internet services.  Finally, the cloud model requires service
providers to recover costs.  Some applications, such as email, can
achieve this through advertising.  Others (such as those based on
Amazon S3) require users to pay fees to the storage providers.
Clearly an alternative that does not require fees would be preferable
for users.

Fortunately, most individual users already have enough storage
hardware for all their data.  The cloud model simplifies management,
but does not increase capacity.  In fact, quite the opposite:  as
noted by Rodrigues and Blake~\cite{rodrigues:multi-hop}, from 1990 to
2005 the amount of time required to transmit the contents of a typical
home user's hard drive over the Internet has increased from 0.6 to 120
days, a trend that appears to continue.  Therefore usable Internet
storage capacity is effectively limited by bandwidth, and is becoming
much smaller than local capacity.  As the number of devices increases,
users also potentially have enough redundancy to survive failures.
Though people often lose servers, desktop machines, laptops, cell
phones, or PDAs, any single person is unlikely to lose all of these
devices simultaneously.

These trends suggest an alternative data management model, which we
call \emph{personal clouds}.

\endinput


on which they need to
access their data ranging from desktop computer to laptop computers
and mobile smartphones, they face the data management problems of
maintaining multiple versions of a file on different devices. They
achieve synchronization by sending email or eventually relying on a
central remote file server. But manual synchronization is very
error-prone, and a central server cannot be accessed when disconnected
from the network. Moreover, not all users are ready to trust any
organization to store their personnal data.

Collaboration is even more error prone. Users are often force to rely
on one person to cenralize all updates in order to keep track of the
most recent version of a ressource. CVS has answered this problem for
developpers, but requires manual intervention from the user, and
setting up a central repository for files.

The growing use of third-party storage and computing ``clouds'', such
as Google Web Services or Amazon S3 clearly shows the need for new
solutions to this problematic. But we believe that they also have
limitations in terms of trust and need for connectivity and could be
complemented by the use of ``personnal clouds'' spawning all of a
user's or a group of users' devices interacting together at the hedge
of the network. If so, mobile devices as well as dekstop computers
will have to coordinate their interaction in the context of
disconnected operations and disparate storage capacities, creating new
needs for synchronization and replication that are not answered by
conventional systems. Building a unified storage and naming system in
this context is a first step to such ``personnal clouds''.

pFS is a decentralized storage system that makes no assumption on
connectivity or network partitioning and expose data through a
standard file system interface. pFS replicates all or a
subset of the user's data on all devices. Updates to the ressources
take place locally and the propagation of those updates to other
devices happen asynchronously. In such context, concurrent updates to
the same ressource becomes an important issue since we have no
centralized instance to synchronize them. We introduce a new
versioning system based on Parker \emph{et al.}'s version vectors
~\cite{Parker1983} that limits the number of coexisting version of a
same ressource while ensuring the detection of all conflicts.

When it comes to mobile devices with smaller storage capacities than
dekstop computers, with replication comes eviction. pFS apply a local
eviction policy on files when not enough space is left on a device
while ensuring that no data is lost globally. Finally, pFS makes no
assumption concerning the format of the files and rely on the user or
its application to merge different versions manually or automatically.
It also provides an interface to influence the decisions made by the
eviction policy.

% Local Variables:
% tex-main-file: "main.ltx"
% tex-command: "make;:"
% tex-dvi-view-command: "make preview;:"
% End:
